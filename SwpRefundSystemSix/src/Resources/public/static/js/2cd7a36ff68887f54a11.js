"use strict";(window["webpackJsonpPluginswp-refund-system-six"]=window["webpackJsonpPluginswp-refund-system-six"]||[]).push([[823],{823:function(e,t,s){s.r(t),s.d(t,{default:function(){return r}});let{Mixin:n}=Shopware,{Criteria:i}=Shopware.Data;var r={template:'{% block refund_system_six_list %}\n    <sw-page class="refund-system-six-list">\n\n        {% block refund_system_six_list_search_bar %}\n            <template #search-bar>\n                <sw-search-bar :initialSearchType="$tc(\'refundsystem.general.searchType\')"\n                               :placeholder="$tc(\'refundsystem.general.placeholderSearchBar\')"\n                               :initialSearch="term"\n                               @search="onSearch">\n                </sw-search-bar>\n            </template>\n        {% endblock %}\n\n        {% block refund_system_six_list_smart_bar_header %}\n            <template #smart-bar-header>\n                {% block refund_system_six_list_smart_bar_header_title %}\n                    <h2>\n                        {% block refund_system_six_list_smart_bar_header_title_text %}\n                            {{ $tc(\'refundsystem.list.textOverview\') }}\n                            {% endblock %}\n\n                            {% block refund_system_six_list_smart_bar_header_amount %}\n                            <span v-if="!isLoading" class="sw-page__smart-bar-amount">\n                            ({{ total }})\n                            </span>\n                        {% endblock %}\n                    </h2>\n                {% endblock %}\n            </template>\n        {% endblock %}\n\n        {% block refund_system_six_list_smart_bar_actions %}\n        <template #smart-bar-actions>\n        {% block refund_system_six_list_smart_bar_actions_add %}\n        <sw-button class="graduated-price-groups-six-list__create-action" :routerLink="{ name: \'swp.refund.system.create\' }" variant="primary">\n        {{ $tc(\'refundsystem.list.buttonAddGroup\') }}\n        </sw-button>\n        {% endblock %}\n        </template>\n        {% endblock %}\n\n        <template #content>\n            {% block refund_system_six_list_content %}\n            <div class="graduated-price-groups-six-list__content">\n                {% block refund_system_six_list_grid %}\n                <sw-entity-listing ref="RefundSystemGrid"\n                                   v-if="refundSystem && total>0"\n                                   class="refund-system-six-list-grid"\n                                   :items="refundSystem"\n                                   :columns="getRefundSystemColumns()"\n                                   :repository="RefundSystemRepository"\n                                   detailRoute="swp.refund.system.detail"\n                                   :showSelection="true"\n                                   :isLoading="isLoading"\n                                   @items-delete-finish="getList"\n                                   @inline-edit-save="onInlineEditSave">\n\n                </sw-entity-listing>\n                {% endblock %}\n\n                {% block refund_system_six_list_empty_state %}\n                    <sw-empty-state v-else-if="!isLoading && !total" :title="$tc(\'refundsystem.list.messageEmpty\')" :subline="$tc(\'refundsystem.list.messageEmpty\')"></sw-empty-state>\n                {% endblock %}\n\n                {% block refund_system_six_list_grid_loader %}\n                    <sw-loader v-if="isLoading"></sw-loader>\n                {% endblock %}\n            </div>\n            {% endblock %}\n        </template>\n\n        {% block refund_system_six_list_sidebar %}\n            <sw-sidebar #sidebar>\n                {% block refund_system_six_list_sidebar_refresh %}\n                    <sw-sidebar-item\n                        icon="regular-undo"\n                        :title="$tc(\'sw-product-stream.list.titleSidebarItemRefresh\')"\n                        @click="onRefresh">\n                    </sw-sidebar-item>\n                {% endblock %}\n            </sw-sidebar>\n        {% endblock %}\n\n    </sw-page>\n{% endblock %}\n',inject:["repositoryFactory"],mixins:[n.getByName("listing"),n.getByName("notification")],data(){return{refundSystem:null,sortBy:"name",sortDirection:"ASC",isLoading:!1,showDeleteModal:!1,total:0}},metaInfo(){return{title:this.$createTitle()}},computed:{RefundSystemRepository(){return this.repositoryFactory.create("refund_system")}},methods:{onInlineEditSave(e,t){return e.then(()=>{this.createNotificationSuccess({title:Shopware.Snippet.tc("refundsystem.detail.titleSaveSuccess"),message:Shopware.Snippet.tc("refundsystem.detail.messageSaveSuccess",0,{name:t.name})})}).catch(()=>{this.getList(),this.createNotificationError({title:Shopware.Snippet.tc("refundsystem-stream.detail.titleSaveError"),message:Shopware.Snippet.tc("refundsystem.detail.messageSaveError",0,{name:t.name})})})},getList(){this.isLoading=!0;let e=new i(this.page,this.limit);e.setTerm(this.term);let t="createdAt"===this.sortBy;return e.addSorting(i.sort(this.sortBy,this.sortDirection,t)),this.RefundSystemRepository.search(e,Shopware.Context.api).then(e=>(this.total=e.total,this.refundSystem=e,this.isLoading=!1,e)).catch(()=>{this.isLoading=!1})},updateTotal({total:e}){this.total=e},getRefundSystemColumns(){return[{property:"name",dataIndex:"name",inlineEdit:"string",routerLink:"swp.refund.system.detail",label:Shopware.Snippet.tc("refundsystem.list.columnName"),width:"15%",primary:!0},{property:"description",inlineEdit:"string",label:Shopware.Snippet.tc("refundsystem.list.columnDescription"),width:"50%"},{property:"active",inlineEdit:"boolean",label:Shopware.Snippet.tc("refundsystem.list.columnStatus"),width:"35%"}]}}}}}]);
//# sourceMappingURL=2cd7a36ff68887f54a11.js.map