(function(){var e,t,n,r,s,o={17:function(){},385:function(){},72:function(e,t,n){var r=n(17);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),n(346).Z("57611653",r,!0,{})},308:function(e,t,n){var r=n(385);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),n(346).Z("09c7a03e",r,!0,{})},346:function(e,t,n){"use strict";function r(e,t){for(var n=[],r={},s=0;s<t.length;s++){var o=t[s],a=o[0],i={id:e+":"+s,css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(i):n.push(r[a]={id:a,parts:[i]})}return n}n.d(t,{Z:function(){return p}});var s="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!s)throw Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o={},a=s&&(document.head||document.getElementsByTagName("head")[0]),i=null,d=0,u=!1,l=function(){},c=null,f="data-vue-ssr-id",m="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(e,t,n,s){u=n,c=s||{};var a=r(e,t);return h(a),function(t){for(var n=[],s=0;s<a.length;s++){var i=o[a[s].id];i.refs--,n.push(i)}t?h(a=r(e,t)):a=[];for(var s=0;s<n.length;s++){var i=n[s];if(0===i.refs){for(var d=0;d<i.parts.length;d++)i.parts[d]();delete o[i.id]}}}}function h(e){for(var t=0;t<e.length;t++){var n=e[t],r=o[n.id];if(r){r.refs++;for(var s=0;s<r.parts.length;s++)r.parts[s](n.parts[s]);for(;s<n.parts.length;s++)r.parts.push(v(n.parts[s]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{for(var a=[],s=0;s<n.parts.length;s++)a.push(v(n.parts[s]));o[n.id]={id:n.id,refs:1,parts:a}}}}function y(){var e=document.createElement("style");return e.type="text/css",a.appendChild(e),e}function v(e){var t,n,r=document.querySelector("style["+f+'~="'+e.id+'"]');if(r){if(u)return l;r.parentNode.removeChild(r)}if(m){var s=d++;t=_.bind(null,r=i||(i=y()),s,!1),n=_.bind(null,r,s,!0)}else t=b.bind(null,r=y()),n=function(){r.parentNode.removeChild(r)};return t(e),function(r){r?(r.css!==e.css||r.media!==e.media||r.sourceMap!==e.sourceMap)&&t(e=r):n()}}var g=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}();function _(e,t,n,r){var s=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=g(t,s);else{var o=document.createTextNode(s),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function b(e,t){var n=t.css,r=t.media,s=t.sourceMap;if(r&&e.setAttribute("media",r),c.ssrId&&e.setAttribute(f,t.id),s&&(n+="\n/*# sourceURL="+s.sources[0]+" */\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}},a={};function i(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={id:e,exports:{}};return o[e](n,n.exports,i),n.exports}i.m=o,i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=function(e){return Promise.all(Object.keys(i.f).reduce(function(t,n){return i.f[n](e,t),t},[]))},i.u=function(e){return"static/js/"+({559:"37647469d3845fe9bff0",823:"2cd7a36ff68887f54a11"})[e]+".js"},i.miniCssF=function(e){return"static/css/swp-refund-system-six.css"},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e={},t="administration:",i.l=function(n,r,s,o){if(e[n]){e[n].push(r);return}if(void 0!==s)for(var a,d,u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var c=u[l];if(c.getAttribute("src")==n||c.getAttribute("data-webpack")==t+s){a=c;break}}a||(d=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,i.nc&&a.setAttribute("nonce",i.nc),a.setAttribute("data-webpack",t+s),a.src=n),e[n]=[r];var f=function(t,r){a.onerror=a.onload=null,clearTimeout(m);var s=e[n];if(delete e[n],a.parentNode&&a.parentNode.removeChild(a),s&&s.forEach(function(e){return e(r)}),t)return t(r)},m=setTimeout(f.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=f.bind(null,a.onerror),a.onload=f.bind(null,a.onload),d&&document.head.appendChild(a)},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.p="bundles/swprefundsystemsix/",n={352:0},i.f.j=function(e,t){var r=i.o(n,e)?n[e]:void 0;if(0!==r){if(r)t.push(r[2]);else{var s=new Promise(function(t,s){r=n[e]=[t,s]});t.push(r[2]=s);var o=i.p+i.u(e),a=Error();i.l(o,function(t){if(i.o(n,e)&&(0!==(r=n[e])&&(n[e]=void 0),r)){var s=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;a.message="Loading chunk "+e+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,r[1](a)}},"chunk-"+e,e)}}},r=function(e,t){var r,s,o=t[0],a=t[1],d=t[2],u=0;if(o.some(function(e){return 0!==n[e]})){for(r in a)i.o(a,r)&&(i.m[r]=a[r]);d&&d(i)}for(e&&e(t);u<o.length;u++)s=o[u],i.o(n,s)&&n[s]&&n[s][0](),n[s]=0},(s=window["webpackJsonpPluginswp-refund-system-six"]=window["webpackJsonpPluginswp-refund-system-six"]||[]).forEach(r.bind(null,0)),s.push=r.bind(null,s.push.bind(s)),window?.__sw__?.assetPath&&(i.p=window.__sw__.assetPath+"/bundles/swprefundsystemsix/"),function(){"use strict";var e=JSON.parse('{"refundsystem":{"general":{"mainMenuEntry":"Pfandsystem","placeholderSearchBar":"Durchsuche alle Pfandarten ...","searchType":"Pfand","exclusive":"excl."},"list":{"textOverview":"Pfandarten","buttonAddGroup":"hinzuf\xfcgen","columnName":"Name","columnStatus":"Status","columnDescription":"Beschreibung","columnDateUpdated":"\xc4nderungsdatum","messageEmpty":"Du hast noch nichts angelegt."},"detail":{"textHeadline":"Neue Pfandart","buttonCancel":"Abbrechen","buttonSave":"Speichern","cardTitleInfo":"Informationen","labelName":"Name","placeholderName":"Gib einen Namen ein ...","labelDescription":"Beschreibung *","placeholderDescription":"Gib eine Beschreibung ein ...","titleSaveSuccess":"Erfolg","messageSaveSuccess":"\\"{name}\\" wurde erfolgreich gespeichert.","titleSaveError":"Fehler","messageSaveError":"\\"{name}\\" konnte nicht gespeichert werden.","labelMedia":"Anzeigebild"}},"global":{"entities":{"refund_system":"Pfandsystem"}}}'),t=JSON.parse('{"refundsystem":{"general":{"mainMenuEntry":"Refundsystem","placeholderSearchBar":"Search","searchType":"Refund","exclusive":"excl."},"list":{"textOverview":"Refund Overview","buttonAddGroup":"add","columnName":"Name","columnStatus":"Status","columnDescription":"Description","columnDateUpdated":"Last Edit","messageEmpty":"Nothing"},"detail":{"textHeadline":"New Refund","buttonCancel":"Cancel","buttonSave":"Save","cardTitleInfo":"Information","labelName":"Name","placeholderName":"Name ...","labelDescription":"Description *","placeholderDescription":"Description ...","titleSaveSuccess":"Success","messageSaveSuccess":"\\"{name}\\" successfull saved.","titleSaveError":"Error","messageSaveError":"\\"{name}\\" not saved.","labelMedia":"Display image"}},"global":{"entities":{"refund_system":"Refundsystem"}}}');Shopware.Component.register("swp-refund-system-detail",()=>i.e(559).then(i.bind(i,559))),Shopware.Component.register("swp-refund-system-list",()=>i.e(823).then(i.bind(i,823)));let{Module:n}=Shopware;n.register("swp-refund-system",{type:"plugin",name:"RefundSystem",title:"refundsystem.general.mainMenuEntry",description:"",color:"#42b8c5",icon:"regular-shopping-bag",snippets:{"de-DE":e,"en-GB":t},routes:{overview:{component:"swp-refund-system-list",path:"overview"},create:{component:"swp-refund-system-detail",path:"create",meta:{parentPath:"swp.refund.system.overview"}},detail:{component:"swp-refund-system-detail",path:"detail/:id",meta:{parentPath:"swp.refund.system.overview"},props:{default(e){return{refundSystemId:e.params.id}}}}},navigation:[{label:"refundsystem.general.mainMenuEntry",path:"swp.refund.system.overview",parent:"sw-catalogue",icon:"default-os-layers",color:"#22d93e"}]}),i(308);let{Component:r}=Shopware;r.override("sw-custom-field-set-renderer",{template:'{% block sw_custom_field_set_renderer_card_form_renderer %}\n    {% parent() %}\n\n    {% block sw_custom_field_set_renderer_card_form_renderer_refund_system %}\n        <template v-if="$route.name === \'sw.category.detail.base\'">\n            <div v-show="showProcessRefundSystem(active)">\n                {% block sw_custom_field_set_renderer_card_form_renderer_refund_system_info %}\n                    <div class="customfields-refundsystem--button-info">\n                        {{ $tc(\'sw-custom-field-set-renderer.refund_system.info-text\') }}\n                    </div>\n                {% endblock %}\n\n                {% block sw_custom_field_set_renderer_card_form_renderer_refund_system_button %}\n                    <sw-button\n                        class="sw-category-detail-base__button"\n                        variant="ghost"\n                        :disabled="!acl.can(\'category.editor\') || categoryNotSaved"\n                        @click="openProcessRefundSystemSixModal"\n                    >\n                        {{ $tc(\'sw-custom-field-set-renderer.refund_system.button\') }}\n                    </sw-button>\n                {% endblock %}\n            </div>\n\n            {% block sw_custom_field_set_renderer_card_form_renderer_refund_system_modal %}\n                <sw-modal v-if="showRefundSystemSixModal"\n                          :title="$tc(\'sw-custom-field-set-renderer.refund_system.title\')"\n                          class="sw_custom_field_refund_system_six_modal__save"\n                          @modal-close="closeRefundSystemSixModal">\n\n                    <div>\n                        {{ $tc(\'sw-custom-field-set-renderer.refund_system.text\') }}\n                    </div>\n\n                    <template #modal-footer>\n\n                        {% block sw_custom_field_set_renderer_card_form_renderer_refund_system_modal_save %}\n                            <sw-button class="sw-category-detail-layout-card-assign__action"\n                                       @click="saveRefundSystemSix"\n                                       variant="primary"\n                                       size="small">\n\n                                {{ $tc(\'sw-custom-field-set-renderer.refund_system.save\') }}\n                            </sw-button>\n                        {% endblock %}\n\n                        {% block sw_custom_field_set_renderer_card_form_renderer_refund_system_modal_cancel %}\n                            <sw-button @click="closeRefundSystemSixModal"\n                                       size="small">\n\n                                {{ $tc(\'sw-custom-field-set-renderer.refund_system.cancel\') }}\n                            </sw-button>\n                        {% endblock %}\n\n                    </template>\n                </sw-modal>\n            {% endblock %}\n        </template>\n    {% endblock %}\n{% endblock %}\n',inject:{refundsystemtoproductsService:"refundsystemtoproductsService",repositoryFactory:"repositoryFactory",acl:"acl"},data(){return{showRefundSystemSixModal:!1}},computed:{categoryRepository(){return this.repositoryFactory.create("category")},categoryNotSaved(){return this.entity&&this.categoryRepository.hasChanges(this.entity)}},methods:{showProcessRefundSystem(e){console.log(e);let t=this.sets.filter(t=>t.id===e).first().name;return"sw.category.detail.base"===this.$route.name&&"refund_system"===t},openProcessRefundSystemSixModal(){this.showRefundSystemSixModal=!0},closeRefundSystemSixModal(){this.showRefundSystemSixModal=!1},saveRefundSystemSix(){let e=Shopware.State.get("swCategoryDetail").category;this.refundsystemtoproductsService.processRefundSystem(e.id,"refund_system").then(e=>{this.showRefundSystemSixModal=!1})}}}),i(72);var s=JSON.parse('{"swp-refundsystem-doku":{"doku":"zur Dokumentation"}}'),o=JSON.parse('{"swp-refundsystem-doku":{"doku":"to documentation"}}');let{Component:a}=Shopware;a.register("refundsystem-doku-button",{template:'{% block refundsystem_doku_button %}\n\n{% block refundsystem_doku_button_link %}\n<a\n    :href="dokuLink"\n    target="_blank"\n    class="refundsystem-doku-button"\n    :class="dokuButtonClasses"\n    rel="noopener"\n>\n    {% block refundsystem_doku_button_link_content %}\n    <span class="refundsystem-doku-button__content">\n        {{ $tc(\'swp-refundsystem-doku.doku\') }}\n    </span>\n    {% endblock %}\n</a>\n{% endblock %}\n\n{% endblock %}\n',snippets:{"de-DE":s,"en-GB":o},props:{variant:{type:String,required:!1,default:"",validValues:["primary","ghost","danger","ghost-danger","contrast","context","hidden"],validator(e){return!e.length||["primary","ghost","danger","ghost-danger","contrast","context","hidden"].includes(e)}},linken:{type:String,required:!1,default:null},linkde:{type:String,required:!1,default:null}},computed:{dokuLink(){return"de"==Shopware.State.getters.adminLocaleLanguage?this.linkde?this.linkde:"none":this.linken?this.linken:"none"},dokuButtonClasses(){return{[`refundsystem-doku-button--${this.variant}`]:this.variant}}}});let d=Shopware.Classes.ApiService;var u=class extends d{constructor(e,t,n="refundsystemtoproducts"){super(e,t,n),this.name="refundsystemtoproductsService"}processRefundSystem(e,t){let n=`/_action/${this.getApiBasePath()}/processing`;return this.httpClient.post(n,{categoryId:e,fieldset:t},{headers:this.getBasicHeaders()}).then(e=>d.handleResponse(e))}};let{Application:l}=Shopware;l.addServiceProvider("refundsystemtoproductsService",e=>new u(l.getContainer("init").httpClient,e.loginService))}()})();
//# sourceMappingURL=swp-refund-system-six.js.map